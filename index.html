<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMLiussss DoH 服务状态监测 - DNS over HTTPS 服务实时监控</title>
    <meta name="description" content="实时监控多个DNS over HTTPS (DoH) 服务的可用性、性能和DNS记录纯净度的状态页面。">
    <meta name="keywords" content="DoH,DNS over HTTPS,DNS服务,网络监控,性能测试,DNS纯净度">
    <link rel="icon" type="image/x-icon" href="https://raw.cmliussss.com/favicon.ico">
    <link rel="shortcut icon" href="https://raw.cmliussss.com/favicon.ico">
    <link rel="apple-touch-icon" href="https://raw.cmliussss.com/favicon.ico">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>CMLiussss DoH 镜像服务<span class="accent">状态监测</span></h1>
            <p>实时监控 DNS over HTTPS 服务的可用性、响应速度和解析纯净度。</p>
        </header>

        <section class="card stats-card">
            <div class="card-header">
                <h2 class="card-title">🌐 当前网络信息</h2>
                <button class="refresh-btn" id="refreshBtn" onclick="testAllServers()">
                    <span class="icon">🔄</span>
                    <span class="text">刷新状态</span>
                </button>
            </div>
            
            <div class="network-cards-container">
                <div class="network-card">
                    <div class="network-card-title">
                        <span class="status-indicator" id="status-ipip"></span>
                        国内测试
                    </div>
                    <div class="network-info-content">
                        <span id="ipip-ip" class="ip-text">加载中...</span>
                        <div class="location-text">
                            <span id="ipip-country" class="country-text">-</span>
                            <span id="ipip-city" class="city-text">-</span>
                        </div>
                    </div>
                </div>

                <div class="network-card">
                    <div class="network-card-title">
                        <span class="status-indicator" id="status-edgeone"></span>
                        国外测试（漏网之鱼）
                    </div>
                    <div class="network-info-content">
                        <span id="edgeone-ip" class="ip-text">加载中...</span>
                        <div class="location-text">
                            <span id="edgeone-country" class="country-text">-</span>
                            <span id="edgeone-city" class="city-text">-</span>
                        </div>
                    </div>
                </div>

                <div class="network-card">
                    <div class="network-card-title">
                        <span class="status-indicator" id="status-cf"></span>
                        CloudFlare（ProxyIP）
                    </div>
                    <div class="network-info-content">
                        <span id="cf-ip" class="ip-text">加载中...</span>
                        <div class="location-text">
                            <span id="cf-country" class="country-text">-</span>
                            <span id="cf-city" class="city-text">-</span>
                        </div>
                    </div>
                </div>

                <div class="network-card">
                    <div class="network-card-title">
                        <span class="status-indicator" id="status-twitter"></span>
                        墙外测试（推特）
                    </div>
                    <div class="network-info-content">
                        <span id="twitter-ip" class="ip-text">加载中...</span>
                        <div class="location-text">
                            <span id="twitter-country" class="country-text">-</span>
                            <span id="twitter-city" class="city-text">-</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="stats-info-section">
                <h2 class="card-title stats-info-title">📊 解析统计概览</h2>
                <div class="stats-summary" id="statsSummary">
                    <div class="stat-item">
                        <div class="stat-value" id="totalServers">-</div>
                        <div class="stat-label">总服务数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="onlineServers">-</div>
                        <div class="stat-label">在线服务</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="averageResponseTime">-</div>
                        <div class="stat-label">平均延迟</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="cleanServers">-</div>
                        <div class="stat-label">纯净服务</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="card doh-list-container">
            <div class="card-header">
                <h2 class="card-title">🌐 DoH 服务列表</h2>
            </div>
            <div class="doh-list-header">
                <span>服务商</span>
                <span>DoH服务地址</span>
                <span>状态</span>
                <span>响应时间</span>
                <span>纯净度</span>
            </div>
            <div id="dohList">
                <!-- DoH服务项目将在这里动态生成 -->
            </div>
        </section>

        <section class="card info-card">
            <h3>💡 工作原理</h3>
            <p>此页面通过解析 <code>www.google.com</code> 来测试每个DoH服务并分析响应结果。</p>
            <div class="info-highlight">
                <p><strong>纯净度检测：</strong> 如果解析的IP地址属于Google的ASN网络，服务会被标记为"纯净"。否则，将被标记为"污染"，这可能表示DNS污染或被重定向。</p>
            </div>
        </section>

        <footer class="footer">
            <p>由 <a href="https://github.com/cmliu" target="_blank" rel="noopener">CMLiussss</a> 强力驱动 | 托管于 <a href="https://edgeone.ai/" target="_blank" rel="noopener">EdgeOne Pages</a></p>
        </footer>
    </div>

    <div class="copy-toast" id="copyToast">
        已复制到剪贴板！
    </div>

    <script src="js/script.js"></script>
</body>
</html>